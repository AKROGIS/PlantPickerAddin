# ---------------------------------------------------------------------------
# CreatePlantFGDB.py
# Created on: 2011-06-02 09:29:12.00000
#   (generated by ArcGIS/ModelBuilder)
# Description: 
# ---------------------------------------------------------------------------

# Import arcpy module
import arcpy

# Local variables:
dataDir = r"C:\Users\resarwas\Documents\Visual Studio 2010\Projects\PlantPickerAddIn\Data"

inPrj = "GEOGCS['GCS_North_American_1983',DATUM['D_North_American_1983',SPHEROID['GRS_1980',6378137.0,298.257222101]],PRIMEM['Greenwich',0.0],UNIT['Degree',0.0174532925199433]];-400 -400 1000000000;-100000 10000;-100000 10000;8.98315284119521E-09;0.001;0.001;IsHighPrecision"
outPrj = "PROJCS['NAD_1983_Alaska_Albers',GEOGCS['GCS_North_American_1983',DATUM['D_North_American_1983',SPHEROID['GRS_1980',6378137.0,298.257222101]],PRIMEM['Greenwich',0.0],UNIT['Degree',0.0174532925199433]],PROJECTION['Albers'],PARAMETER['False_Easting',0.0],PARAMETER['False_Northing',0.0],PARAMETER['Central_Meridian',-154.0],PARAMETER['Standard_Parallel_1',55.0],PARAMETER['Standard_Parallel_2',65.0],PARAMETER['Latitude_Of_Origin',50.0],UNIT['Meter',1.0]];-13752200 -8948200 10000;-100000 10000;-100000 10000;0.001;0.001;0.001;IsHighPrecision"


mdb = dataDir + "\\plants.mdb"
fgdbName = "plants.gdb"
fgdb = dataDir + "\\" + fgdbName
dsName = "Albers"
ds = fgdb + "\\" + dsName

fcName = "PlantOccurences"

ref_taxon = mdb + "\\ref_taxon"
tbl_plot_covariate_data = mdb + "\\tbl_plot_covariate_data"
tbl_vascular_plant_species_occurrences = mdb + "\\tbl_vascular_plant_species_occurrences"
taxonPicklist = mdb + "\\taxonPicklist"
akhpRankPicklist = mdb + "\\akhpRankPicklist"

OccurencesName = "Occurences"
PlotsName = "Plots"
Occurences = fgdb + "\\" + OccurencesName
Plots = fgdb + "\\" + PlotsName
Taxon = fgdb + "\\Taxon"
fc = ds + "\\" + fcName

fieldsToIndex = ["Occurences_species_code",
               "Occurences_Plot_Id",
               "Occurences_Cover",
               "Occurences_occur_type",
               "Taxon_txtLocalAcceptedName",
               "Taxon_vasc_aknhp_s_rank",
               ]

location = "location"
occurancesView = "occurancesView"



# Process: Delete the old File GDB (if it exists)
if arcpy.Exists(fgdb):
    arcpy.Delete_management(fgdb, "")

# Process: Create File GDB
arcpy.CreateFileGDB_management(dataDir, fgdbName, "CURRENT")

# Process: Table to Table (2)
#arcpy.TableToTable_conversion(taxonPicklist, fgdb, "taxonPicklist", "", "txtLocalAcceptedName \"txtLocalAcceptedName\" true true false 50 Text 0 0 ,First,#,"+taxonPickList+",txtLocalAcceptedName,-1,-1", "")
arcpy.TableToTable_conversion(taxonPicklist, fgdb, "taxonPicklist", "", "", "")

# Process: Table to Table (3)
#arcpy.TableToTable_conversion(akhpRankPicklist, fgdb, "akhpRankPicklist", "", "vasc_aknhp_s_rank \"vasc_aknhp_s_rank\" true true false 50 Text 0 0 ,First,#,"+akhpRankPicklist+",vasc_aknhp_s_rank,-1,-1", "")
arcpy.TableToTable_conversion(akhpRankPicklist, fgdb, "akhpRankPicklist", "", "", "")

# Process: Table to Table (4)
#arcpy.TableToTable_conversion(tbl_plot_covariate_data, fgdb, "Plots", "", "plot_ID \"plot_ID\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",plot_ID,-1,-1;site_name \"site_name\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",site_name,-1,-1;omit_site \"omit_site\" true true false 4 Long 0 0 ,First,#,"+tbl_plot_covariate_data+",omit_site,-1,-1;plot_square_m \"plot_square_m\" true true false 4 Long 0 0 ,First,#,"+tbl_plot_covariate_data+",plot_square_m,-1,-1;lat_NAD83 \"lat_NAD83\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",lat_NAD83,-1,-1;long_NAD83 \"long_NAD83\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",long_NAD83,-1,-1;Elevation_m \"Elevation_m\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",Elevation_m,-1,-1;F_Slope_deg \"F_Slope_deg\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",F_Slope_deg,-1,-1;F_Azimuth \"F_Azimuth\" true true false 4 Long 0 0 ,First,#,"+tbl_plot_covariate_data+",F_Azimuth,-1,-1;F_aspect_desc \"F_aspect_desc\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",F_aspect_desc,-1,-1;DEM_elev \"DEM_elev\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",DEM_elev,-1,-1;DEM_slope \"DEM_slope\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",DEM_slope,-1,-1;DEM_azimuth \"DEM_azimuth\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",DEM_azimuth,-1,-1;DEM_aspect_desc \"DEM_aspect_desc\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",DEM_aspect_desc,-1,-1;DEM_off180 \"DEM_off180\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",DEM_off180,-1,-1;Diff_slope \"Diff_slope\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",Diff_slope,-1,-1;Diff_elev \"Diff_elev\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",Diff_elev,-1,-1;DEM_summer_SR \"DEM_summer_SR\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",DEM_summer_SR,-1,-1;DEM_annual_SR \"DEM_annual_SR\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",DEM_annual_SR,-1,-1;F_summer_SR \"F_summer_SR\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",F_summer_SR,-1,-1;F_annual_SR \"F_annual_SR\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",F_annual_SR,-1,-1;source_project \"source_project\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",source_project,-1,-1;date \"date\" true true false 8 Date 0 0 ,First,#,"+tbl_plot_covariate_data+",date,-1,-1;soils_unit_sym \"soils_unit_sym\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",soils_unit_sym,-1,-1;depth_to_frozen \"depth_to_frozen\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",depth_to_frozen,-1,-1;Soils_Landform \"Soils_Landform\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Soils_Landform,-1,-1;Soil_Geomorph \"Soil_Geomorph\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Soil_Geomorph,-1,-1;Soil_Climate \"Soil_Climate\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Soil_Climate,-1,-1;Soil_Soil_Paren \"Soil_Soil_Paren\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Soil_Soil_Paren,-1,-1;Soil_Lithology \"Soil_Lithology\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Soil_Lithology,-1,-1;Soil_Permafrost \"Soil_Permafrost\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Soil_Permafrost,-1,-1;FireName \"FireName\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",FireName,-1,-1;FireYear \"FireYear\" true true false 4 Long 0 0 ,First,#,"+tbl_plot_covariate_data+",FireYear,-1,-1;polygon_USGS \"polygon_USGS\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",polygon_USGS,-1,-1;polygon_GL \"polygon_GL\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",polygon_GL,-1,-1;Subname \"Subname\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Subname,-1,-1;Life_Zone \"Life_Zone\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Life_Zone,-1,-1;Max_spatial_extent \"Max_spatial_extent\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",Max_spatial_extent,-1,-1;Yrs_since_fire \"Yrs_since_fire\" true true false 4 Long 0 0 ,First,#,"+tbl_plot_covariate_data+",Yrs_since_fire,-1,-1;Flood_frequency \"Flood_frequency\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Flood_frequency,-1,-1;Soil_Temp_50cm \"Soil_Temp_50cm\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Soil_Temp_50cm,-1,-1;Annum \"Annum\" true true false 4 Long 0 0 ,First,#,"+tbl_plot_covariate_data+",Annum,-1,-1;Subsection_name \"Subsection_name\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Subsection_name,-1,-1;Soil_Temperature_regime \"Soil_Temperature_regime\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Soil_Temperature_regime,-1,-1;Soil_Gen_Pot_Vegn \"Soil_Gen_Pot_Vegn\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Soil_Gen_Pot_Vegn,-1,-1;Geol_Age \"Geol_Age\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Geol_Age,-1,-1;Geol_Maj_Lithology \"Geol_Maj_Lithology\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Geol_Maj_Lithology,-1,-1;GLG_Name \"GLG_Name\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",GLG_Name,-1,-1;Landcover_code \"Landcover_code\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Landcover_code,-1,-1;Burned \"Burned\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Burned,-1,-1;Geol_unit_description \"Geol_unit_description\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Geol_unit_description,-1,-1;Landcover_class \"Landcover_class\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Landcover_class,-1,-1;Soils_Transect_ID \"Soils_Transect_ID\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Soils_Transect_ID,-1,-1;Soils_stop_num \"Soils_stop_num\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",Soils_stop_num,-1,-1;interpreted_location \"interpreted_location\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",interpreted_location,-1,-1;multiple_collectors \"multiple_collectors\" true true false 1 Short 0 0 ,First,#,"+tbl_plot_covariate_data+",multiple_collectors,-1,-1;multiple_date \"multiple_date\" true true false 1 Short 0 0 ,First,#,"+tbl_plot_covariate_data+",multiple_date,-1,-1;other_dates \"other_dates\" true true false 2147483647 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",other_dates,-1,-1;personnel \"personnel\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",personnel,-1,-1;azimuth_degrees \"azimuth_degrees\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",azimuth_degrees,-1,-1;slope_angle_degrees \"slope_angle_degrees\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",slope_angle_degrees,-1,-1;Elevation_2 \"Elevation_2\" true true false 8 Double 0 0 ,First,#,"+tbl_plot_covariate_data+",Elevation_2,-1,-1;azimuth_description \"azimuth_description\" true true false 255 Text 0 0 ,First,#,"+tbl_plot_covariate_data+",azimuth_description,-1,-1", "")
arcpy.TableToTable_conversion(tbl_plot_covariate_data, fgdb, PlotsName, "", "", "")

# Process: Table to Table (5)
#arcpy.TableToTable_conversion(ref_taxon, fgdb, "Taxon", "", "species_code \"species_code\" true false false 50 Text 0 0 ,First,#,"+ref_taxon+",species_code,-1,-1;usda_code \"usda_code\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",usda_code,-1,-1;diff_plants_DB \"diff_plants_DB\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",diff_plants_DB,-1,-1;transect_cover_element \"transect_cover_element\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",transect_cover_element,-1,-1;duration \"duration\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",duration,-1,-1;usda_name \"usda_name\" true true false 200 Text 0 0 ,First,#,"+ref_taxon+",usda_name,-1,-1;endem_code \"endem_code\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",endem_code,-1,-1;endem \"endem\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",endem,-1,-1;endem_type \"endem_type\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",endem_type,-1,-1;family_name \"family_name\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",family_name,-1,-1;species_author \"species_author\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",species_author,-1,-1;genus_name \"genus_name\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",genus_name,-1,-1;species_name \"species_name\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",species_name,-1,-1;vasc_aknhp_s_rank \"vasc_aknhp_s_rank\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",vasc_aknhp_s_rank,-1,-1;scientific_name \"scientific_name\" true true false 200 Text 0 0 ,First,#,"+ref_taxon+",scientific_name,-1,-1;vasc_aknhp_g_rank \"vasc_aknhp_g_rank\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",vasc_aknhp_g_rank,-1,-1;infra_author \"infra_author\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",infra_author,-1,-1;inf_name \"inf_name\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",inf_name,-1,-1;inf_rank \"inf_rank\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",inf_rank,-1,-1;growth_form1 \"growth_form1\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",growth_form1,-1,-1;growth_form1_code \"growth_form1_code\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",growth_form1_code,-1,-1;growth_form2_code \"growth_form2_code\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",growth_form2_code,-1,-1;growth_form2 \"growth_form2\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",growth_form2,-1,-1;range_category1 \"range_category1\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",range_category1,-1,-1;vascular_code \"vascular_code\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",vascular_code,-1,-1;composite_species_code1 \"composite_species_code1\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",composite_species_code1,-1,-1;composite_species_code2 \"composite_species_code2\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",composite_species_code2,-1,-1;composite_constituent_species1 \"composite_constituent_species1\" true true false 255 Text 0 0 ,First,#,"+ref_taxon+",composite_constituent_species1,-1,-1;composite_constituent_species2 \"composite_constituent_species2\" true true false 255 Text 0 0 ,First,#,"+ref_taxon+",composite_constituent_species2,-1,-1;Taxon_Name \"Taxon_Name\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Taxon_Name,-1,-1;Category_USDA \"Category_USDA\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Category_USDA,-1,-1;chkFieldAccepted \"chkFieldAccepted\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",chkFieldAccepted,-1,-1;chkLocalAccepted \"chkLocalAccepted\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",chkLocalAccepted,-1,-1;Common_Name \"Common_Name\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Common_Name,-1,-1;Hulten_Page \"Hulten_Page\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Hulten_Page,-1,-1;syn_Cody \"syn_Cody\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",syn_Cody,-1,-1;syn_FNA \"syn_FNA\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",syn_FNA,-1,-1;syn_Hulten \"syn_Hulten\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",syn_Hulten,-1,-1;txtFieldAcceptedName \"txtFieldAcceptedName\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",txtFieldAcceptedName,-1,-1;txtFieldAcceptedTSN \"txtFieldAcceptedTSN\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",txtFieldAcceptedTSN,-1,-1;txtLocalAcceptedName \"txtLocalAcceptedName\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",txtLocalAcceptedName,-1,-1;txtLocalAcceptedTSN \"txtLocalAcceptedTSN\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",txtLocalAcceptedTSN,-1,-1;txtTSN \"txtTSN\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",txtTSN,-1,-1;Division_USDA \"Division_USDA\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Division_USDA,-1,-1;Order_USDA \"Order_USDA\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Order_USDA,-1,-1;Class_USDA \"Class_USDA\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Class_USDA,-1,-1;Family_USDA \"Family_USDA\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Family_USDA,-1,-1;US_Nativity_USDA \"US_Nativity_USDA\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",US_Nativity_USDA,-1,-1;Duration_USDA \"Duration_USDA\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Duration_USDA,-1,-1;txtStdAcceptedName \"txtStdAcceptedName\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",txtStdAcceptedName,-1,-1;chkStdList \"chkStdList\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",chkStdList,-1,-1;txtStdTSN \"txtStdTSN\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",txtStdTSN,-1,-1;Final_ID_Valid \"Final_ID_Valid\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Final_ID_Valid,-1,-1;Collection_Number_Required \"Collection_Number_Required\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Collection_Number_Required,-1,-1;Exotic_species \"Exotic_species\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Exotic_species,-1,-1;Life_Form_Class_Code \"Life_Form_Class_Code\" true true false 50 Text 0 0 ,First,#,"+ref_taxon+",Life_Form_Class_Code,-1,-1", "")
arcpy.TableToTable_conversion(ref_taxon, fgdb, "Taxon", "", "", "")

# Process: Table to Table
#arcpy.TableToTable_conversion(tbl_vascular_plant_species_occurrences, fgdb, "Occurences", "", "plot_ID \"plot_ID\" true true false 255 Text 0 0 ,First,#,"+tbl_vascular_plant_species_occurrences+",plot_ID,-1,-1;species_code \"species_code\" true true false 255 Text 0 0 ,First,#,"+tbl_vascular_plant_species_occurrences+",species_code,-1,-1;Cover \"Cover\" true true false 8 Double 0 0 ,First,#,"+tbl_vascular_plant_species_occurrences+",Cover,-1,-1;Occurrence \"Occurrence\" true true false 4 Long 0 0 ,First,#,"+tbl_vascular_plant_species_occurrences+",Occurrence,-1,-1;occur_type \"occur_type\" true true false 255 Text 0 0 ,First,#,"+tbl_vascular_plant_species_occurrences+",occur_type,-1,-1;m_freq \"m_freq\" true true false 8 Double 0 0 ,First,#,"+tbl_vascular_plant_species_occurrences+",1m_freq,-1,-1;m_freq_1 \"m_freq_1\" true true false 8 Double 0 0 ,First,#,"+tbl_vascular_plant_species_occurrences+",4m_freq,-1,-1;m_occur \"m_occur\" true true false 2 Short 0 0 ,First,#,"+tbl_vascular_plant_species_occurrences+",200m_occur,-1,-1;collection_number \"collection_number\" true true false 255 Text 0 0 ,First,#,"+tbl_vascular_plant_species_occurrences+",collection_number,-1,-1", "")
arcpy.TableToTable_conversion(tbl_vascular_plant_species_occurrences, fgdb, OccurencesName, "", "", "")

# Process: Make Table View
#arcpy.MakeTableView_management(Occurences, occurancesView, "", "", "plot_ID plot_ID VISIBLE NONE;species_code species_code VISIBLE NONE;Cover Cover VISIBLE NONE;Occurrence Occurrence VISIBLE NONE;occur_type occur_type VISIBLE NONE;m_freq m_freq VISIBLE NONE;m_freq_1 m_freq_1 VISIBLE NONE;m_occur m_occur VISIBLE NONE;collection_number collection_number VISIBLE NONE")
arcpy.MakeTableView_management(Occurences, occurancesView, "", "", "")

# Process: Add Join
arcpy.AddJoin_management(occurancesView, "plot_ID", Plots, "plot_ID", "KEEP_ALL")

# Process: Add Join (2)
arcpy.AddJoin_management(occurancesView, OccurencesName + "." + "species_code", Taxon, "species_code", "KEEP_ALL")

# Process: Make XY Event Layer
arcpy.MakeXYEventLayer_management(occurancesView, PlotsName + "." + "long_NAD83", PlotsName + "." + "lat_NAD83", location, inPrj, "")

# Process: Create Feature Dataset
arcpy.CreateFeatureDataset_management(fgdb, dsName, outPrj)

# Process: Feature Class to Feature Class
arcpy.FeatureClassToFeatureClass_conversion(location, ds, fcName, "", "", "")

# Process: Add Attribute Indexes
for fieldName in fieldsToIndex:
    arcpy.AddIndex_management(fc, fieldName, "Index_"+fieldName, "NON_UNIQUE", "NON_ASCENDING")

# Process: Delete (3)
arcpy.Delete_management(Occurences, "")

# Process: Delete (2)
arcpy.Delete_management(Plots, "")

# Process: Delete
arcpy.Delete_management(Taxon, "")

# Process: Compress File Geodatabase Data
arcpy.CompressFileGeodatabaseData_management(fgdb)

